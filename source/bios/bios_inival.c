/**
*	KDK-BASE	グローバル宣言と初期化
*	Copyright (c)Junnichi Tomaru
*/

/* ----- 割り込み内で変更される変数 ----- */
volatile word	count1ms = 0U;	/* フリーラン用カウンタ(ウェイトなど) */

/* --- 一般 --- */
char	keybuf[4] = { 0,0,0,0 };	/* キー状態 */
byte	keypnt = 0;		/* 最新状態格納位置 */

/* --- 送信 --- */
byte	txbuf[TXBUFSIZE] = {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};
byte	txp = 0;
byte	txct = 0;
swbool	siotxflg = off;		/* 送信中フラグ */

/* --- 受信 --- */
byte	rxringbuf[RXBUFSIZE] = 
{
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};
byte	rxhp = 0;
byte	rxtp = 0;
byte	rxct = 0;
char	rxbuffer[RXCOMSIZE] = 
{
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};
byte	bufp = 0;
word	recv_timer = 0U;
swbool	recv_en = off;

/* --- ENC28J60 --- */
rxstatus_t	rxstatus = { {0U}, {0U}, {{0U}} };	/* 受信ステータス */
word	nowrxpnt = RXSTART;	/* 現在の受信パケット先頭 */
word	nextrxpnt = RXSTART;	/* 次の受信パケット先頭 */
byte	revid = 0;

/* end of bios_inibal.c */
